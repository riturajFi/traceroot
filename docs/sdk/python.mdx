# Python SDK for TraceRoot

## Introduction
This SDK is a lightweight wrapper around OpenTelemetry, optimized for ease of use.


## Installation
```bash
pip install traceroot
```

## Configuration

Then create an [TraceRoot token](https://test.traceroot.ai/integrate) from the dashboard, and add it to your backend `.env` file.

```bash .env
// The token for the TraceRoot API
TRACEROOT_TOKEN=traceroot-430246

// The name of the service you are tracking
TRACEROOT_SERVICE_NAME=traceroot

// The owner of the GitHub repository
TRACEROOT_GITHUB_OWNER=xxx

// The name of the GitHub repository
TRACEROOT_GITHUB_REPO_NAME=xxx

// The commit hash of the GitHub repository
TRACEROOT_GITHUB_COMMIT_HASH=main

// Enable cloud export of spans (default: `true`)
TRACEROOT_ENABLE_SPANS_CLOUD_EXPORT=true

// Enable cloud export of logs (default: `true`)
TRACEROOT_ENABLE_LOGS_CLOUD_EXPORT=true

// Enable console export of spans (default: `false`)
TRACEROOT_ENABLE_SPANS_CONSOLE_EXPORT=false

// Enable console export of logs (default: `true`)
TRACEROOT_ENABLE_LOG_CONSOLE_EXPORT=true
```

## Usage

Uses the `@traceroot.trace()` decorator to trace your functions. Uses `logger.info`, `logger.error`, `logger.warn`, `logger.debug`, and `logger.critical` for logging similar to the default Python logger.
If you specify the `name` parameter in the decorator, it will be used as the span name shown in the TraceRoot.AI platform.

Here is an example of how to use the TraceRoot decorator and logger:

```python
import traceroot
import asyncio

logger = traceroot.get_logger()

@traceroot.trace(name="greet")
async def greet(name: str) -> str:
    logger.info(f"Greeting inside traced function: {name}")
    # Simulate some async work
    await asyncio.sleep(0.1)
    return f"Hello, {name}!"

async def main():
    result = await greet("world")
    logger.info(f"Greeting result: {result}")

if __name__ == "__main__":
    asyncio.run(main())
```
